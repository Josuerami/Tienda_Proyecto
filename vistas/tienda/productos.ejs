<%- include('../parciales/encabezado') %>

<section class="panel">
  <h1 class="titulo">Todos los productos</h1>

  <div class="grid">
    <% productos.forEach(p => { %>
      <div class="card">
        <img class="card-img" src="<%= p.ruta_imagen ? '/uploads/' + p.ruta_imagen : '/uploads/placeholder.png' %>" alt="<%= p.nombre %>">
        <div class="card-titulo"><%= p.nombre %></div>
        <div class="card-sub">Categor√≠a: <%= p.nombre_categoria || 'N/A' %></div>
        <div class="card-precio">$<%= Number(p.precio).toFixed(2) %></div>
        <a class="btn" href="/producto/<%= p.id %>">Ver</a>
        <form method="post" action="/carrito/agregar/<%= p.id %>">
          <button class="btn secundario" type="submit">Agregar al carrito</button>
        </form>
      </div>
    <% }) %>
  </div>
</section>

<%- include('../parciales/pie') %>
